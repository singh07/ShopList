@(signupForm: Form[models.Member])

@import helper._
@import helper.twitterBootstrap._
@title = {
Sign Up
}

@main(title,nav="signUp") {

    @form(action = routes.UserController.submit(),'name ->"signupForm", 'class -> "form-horizontal", 'onsubmit -> "return validate(this);") {
        <fieldset>
           <legend><h1> Account Information</h1></legend>

<div class="form-group">
            @inputText(signupForm("firstName"),
            '_label -> "First name:",
            'class -> "form-control",
            '_help -> "Please enter your first name.")
            </div>

<div class="form-group">
            @inputText(signupForm("lastName"),
            '_label -> "Last name:",
            'class -> "form-control",
            '_help -> "Please enter your last name.")
            </div>

<div class="form-group">
            @inputText(signupForm("email"),
                        '_label -> "Email Address:",
                        'class -> "form-control",
                        '_help -> "Enter a valid email address.",
                        '_error -> signupForm.globalError)
                        </div>

<div class="form-group">
            @inputPassword(signupForm("password"),
                            '_label -> "Password:",
                            'class -> "form-control",
                            '_help -> "A password must be at least 6 characters.")
                            </div>
        </fieldset>

        <div class="form-group">
            <input type="submit" class="btn btn-primary" value="Sign Up">
            <a href="@routes.ApplicationController.index" class="btn">Cancel</a>
        </div>
        
         <script type="text/javascript" charset="utf-8">
        function validate(signup) {
        var reason = "";

        reason += validateFirstname(signup.firstName);
        reason += validateLastname(signup.lastName);
        reason += validatePassword(signup.password);
        reason += validateEmail(signup.email);

        if (reason != "") {
        alert("Some fields need correction:\n" + reason);
        return false;
        }

        return true;
        }


        function validateFirstname(fld) {
        var error = "";
        var illegalChars = /\W/; // allow letters, numbers, and underscores
        var letters = /^[A-Za-z]+$/;

        if (fld.value == "") {

        error = "You didn't enter a firstname.\n";

        }  else if (illegalChars.test(fld.value)) {

        error = "The firstname contains illegal characters.\n";
        } else if(!(fld.value.match(letters)))

        {
        error = "The firstname can only contain alphabets.\n";
        }
        return error;
        }


        function validateLastname(fld) {
        var error = "";
        var illegalChars = /\W/; // allow letters, numbers, and underscores
        var letters = /^[A-Za-z]+$/;

        if (fld.value == "") {

        error = "You didn't enter a lastname.\n";

        }  else if (illegalChars.test(fld.value)) {

        error = "The lastname contains illegal characters.\n";
        } else if(!(fld.value.match(letters)))

        {
        error = "The lastname can only contain alphabets.\n";
        }
        return error;
        }
        
        function trim(s)
        {
        return s.replace(/^\s+|\s+$/, '');
        }


        function validateEmail(fld) {
        var error="";
        var tfld = trim(fld.value);                        // value of field with whitespace trimmed off
        var emailFilter = /^[\w\-\.\+]+\@@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/;
        var illegalChars= /[\(\)\<\>\,\;\:\\\"\[\]]/ ;

        if (fld.value == "") {

        error = "You didn't enter a email.\n";

        }  else if (!emailFilter.test(tfld)) {              //test email for illegal characters

        error = "Please enter a valid email address.\n";
        } else if (fld.value.match(illegalChars)) {

        error = "The email address contains illegal characters.\n";
        }
        return error;
        }

        
        
        function validatePassword(fld) {
        var error = "";
        var illegalChars = /\W/; // allow letters, numbers, and underscores

        if (fld.value == "") {

        error = "You didn't enter a password.\n";

        }  else if ((fld.value.length < 6) || (fld.value.length > 15)) {
        error = "The password should be between 6 to 15 length. \n";

        } else if (illegalChars.test(fld.value)) {
        error = "The password contains illegal characters.\n";

        } else if (!((fld.value.search(/(a-z)+/)) && (fld.value.search(/(0-9)+/)))) {
        error = "The password must contain at least one numeral.\n";

        }
        return error;
        }

       






    </script>
        
        
    }

}
