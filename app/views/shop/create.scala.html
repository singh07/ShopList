@(userForm: Form[models.Shop], user: String)

@import helper._
@import helper.twitterBootstrap._
@title = {
Add Shop
}

@main(title,nav="addShop") {

@if(session.get("email")==null){

<div class="alert alert-danger"><p><strong>Warning!</strong>&nbsp;To add a shop please login first.</p>  </div>
}else{
<fieldset>
    <legend>Add a new shop</legend>
     <p>To add a shop to this website fill in the form given below.Add as much information about your shop so the customer may know abot your shop more.</p>


@form(action = routes.ShopController.submit(),'name ->"userForm", 'id -> "shopCreationForm", 'class -> "form-horizontal", 'role->"form", 'onsubmit -> "return validateForm(this);") {

@inputText(userForm("name"), '_label -> "Shop Name",'class -> "form-control")
@inputText(userForm("addressLine1"), '_label -> "Address Line 1",'class -> "form-control")
@inputText(userForm("addressLine2"), '_label -> "Address Line 2",'class -> "form-control")
@inputText(userForm("addressLine3"), '_label -> "Address Line 3",'class -> "form-control")
@inputText(userForm("city"), '_label -> "City",'class -> "form-control")
@inputText(userForm("town"), '_label -> "Town",'class -> "form-control")
@inputText(userForm("phoneNumber"), '_label -> "Phone",'class -> "form-control")

      <div >
        <label>Category</label>
        <select name="category" class="form-control" id="select1" >
            <option value="">-:Select Category:-&nbsp;</option>
            <option value="antique shop">antique shop</option>
            <option value="barbershop">barbershop</option>
            <option value="beauty parlour">beauty parlour</option>
            <option value="beauty salon">beauty salon</option>
            <option value="big-box store">big-box store</option>
            <option value="bookshop">bookshop</option>
            <option value="bottle shop">bottle shop</option>
            <option value="chemist">chemist</option>
            <option value="dairy">dairy</option>
            <option value="garage">garage</option>
            <option value="general store">general store</option>
            <option value="hardware shop">hardware shop</option>
            <option value="supermarket">supermarket</option>
            <option value="sweet shop">sweet shop</option>



        </select>
    </div>
      <br>
    <div>
        <label >Owner Email</label>
        <input type="email" name="owner.email" class="form-control" id="exampleInputEmail1" value="@user" placeholder="@user" readonly>
    </div>

</fieldset>
    @*@inputText(userForm("owner.email"), '_label -> "Owner Email" ,'id -> "createdOn",'class -> "form-control",'readonly ->"readonly",'placeholder ->session.get("email") )

    @select(
    userForm("owner.email"),
    options = helper.options(users),
    'class -> "form-control",
    '_default -> "--- Choose an owner ---",
    '_label -> "Select Owner",
    '_error -> userForm("owner").error.map(_.withMessage("Please select an owner"))
)

     <div >
    <input type="file" class="btn"  name="shop_pic" accept="image/*">
     </div> *@
    <div class="actions">
        <input type="submit" class="btn btn-primary" value="Create">
        <a href="@routes.ApplicationController.index" class="btn">Cancel</a>
    </div>

}
<script type="text/javascript" charset="utf-8">
    function validateForm(createShop) {
    var reason = "";

    reason += validateShopName(createShop.name);
    reason += validateAddress(createShop.addressLine1);
    reason += validateCity(createShop.city);
    reason += validateTown(createShop.town);
    reason += validatePhone(createShop.phoneNumber);
    reason += validateCategory(createShop.category);


    if (reason != "") {
    alert("Some fields need correction:\n" + reason);
    return false;
    }

    return true;
    }


    function validateShopName(fld) {
    var error = "";
    var illegalChars = /\W/; // allow letters, numbers, and underscores
    var letters = /^[A-Za-z]+$/;

    if (fld.value == "") {

    error = "You didn't enter a Shop Name.\n";

    }  
    return error;
    }


    function validateAddress(fld) {
    var error = "";
    var illegalChars = /\W/; // allow letters, numbers, and underscores
    var letters = /^[A-Za-z]+$/;

    if (fld.value == "") {

    error = "You didn't enter a AddressLine 1.\n";

    } 
    return error;
    }

    function validateCity(fld) {
    var error = "";
    var illegalChars = /\W/; // allow letters, numbers, and underscores

    if (fld.value == "") {

    error = "You didn't enter a City.\n";

    }  else if (illegalChars.test(fld.value)) {
    error = "The City field contains illegal characters.\n";

    }
    return error;
    }

    function validateTown(fld) {
    var error = "";
    var illegalChars = /\W/; // allow letters, numbers, and underscores

    if (fld.value == "") {

    error = "You didn't enter a Town.\n";

    }  else if (illegalChars.test(fld.value)) {
    error = "The Town field contains illegal characters.\n";

    }
    return error;
    }

    function validatePhone(fld) {
    var error = "";
    var stripped = fld.value.replace(/[\(\)\.\-\ ]/g, '');

    if (fld.value == "") {
    error = "You didn't enter a phone number.\n";

    } else if (isNaN(parseInt(stripped))) {
    error = "The phone number contains illegal characters.\n";

    } else if (!(stripped.length == 10)) {
    error = "The phone number is the wrong length. Make sure you included an area code.\n";

    }
    return error;
    }

    function validateCategory(fld) {
    var error = "";
    var illegalChars = /\W/; // allow letters, numbers, and underscores

    if (fld.value == "") {

    error = "You didn't select a Category.\n";

    }  
    return error;
    }







</script>
        }
        }